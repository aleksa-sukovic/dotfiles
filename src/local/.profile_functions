#!/bin/bash

# Executes bash process in provided Docker container.
dbash()
{
    if [[ $# -ne 1 ]]; then
        echo "Please provide the name of Docker container"
    fi

    docker exec -it $(docker ps -qf "name=$1") bash
}

# Own and change permission of specified folder.
#   - Owner of specified file/directory is current user.
own()
{
    if [[ $# -ne 1 ]]; then
        echo "Provide path to folder you want to take over!"

        return
    fi

    sudo chown -R $USER:$USER ./*
    sudo chmod -R 755 ./*
}

# Compiles and links flex and bison programs from specified file
#   - Filename extension of ".y" is assumed.
bflc()
{
    FILE_NAME=$1

    # Compiling bison
    eval "bison -d ./$FILE_NAME.y"

    # Compiling flex
    eval "flex ./$FILE_NAME.l"

    # Linking
    eval "gcc -o $FILE_NAME.out ./$FILE_NAME.tab.c ./lex.yy.c -lfl" -lm
}

# Compiles specified flex file
#   - Filename extension of ".l" is assummed.
flexc()
{
    FILE_NAME=$1

    eval "flex ./$FILE_NAME.l"
    eval "gcc -o ./$FILE_NAME.out ./lex.yy.c -lfl"
}

# Basic system clean-up
#   - Uses pacman-contrib package to clean unused packages.
#   - Cleans cache.
clean()
{
    sudo pacman -R $(pacman -Qtdq)

    rm -rf ~/.cache/*
}